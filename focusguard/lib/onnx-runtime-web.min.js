/**
 * ONNX Runtime Web Placeholder for FocusGuard
 * 
 * This is a placeholder file for ONNX Runtime Web.
 * To enable ML model inference, replace this file with the actual
 * ONNX Runtime Web library or load it from CDN.
 * 
 * DOWNLOAD OPTIONS:
 * 
 * 1. CDN (Recommended for development):
 *    Add this to your manifest.json web_accessible_resources:
 *    {
 *      "resources": ["https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"],
 *      "matches": ["<all_urls>"]
 *    }
 * 
 * 2. Local Download:
 *    Download from: https://github.com/microsoft/onnxruntime/releases
 *    File: onnxruntime-web-x.x.x.min.js
 *    Replace this file with the downloaded version
 * 
 * 3. Package Manager:
 *    npm install onnxruntime-web
 *    Copy node_modules/onnxruntime-web/dist/ort.min.js here
 * 
 * VERSION: Use the latest stable version (1.16.x or later)
 * SIZE: ~2-3MB (minified)
 * 
 * Once you have the actual ONNX Runtime Web library, 
 * the model-loader.js will be able to:
 * - Load ONNX models
 * - Run inference in the browser
 * - Process text and image classification
 * 
 * Until then, the extension will use keyword-based
 * classification as a fallback.
 */

// Placeholder implementation
if (typeof ort === 'undefined') {
  window.ort = {
    // Placeholder InferenceSession
    InferenceSession: {
      create: async function(modelPath) {
        console.warn('FocusGuard: ONNX Runtime Web not loaded. Using placeholder.');
        return {
          run: async function(feeds) {
            console.warn('FocusGuard: Mock inference - replace with actual ONNX Runtime Web');
            return {
              output: {
                data: new Float32Array([0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.2, 0.1]),
                get: function() { return this.data; }
              }
            };
          }
        };
      }
    },
    
    // Placeholder Tensor
    Tensor: function(type, data, shape) {
      this.type = type;
      this.data = data;
      this.shape = shape;
    },
    
    // Placeholder util functions
    env: {
      wasm: {
        numThreads: 1
      }
    }
  };
}

console.log('FocusGuard: ONNX Runtime Web placeholder loaded. Replace with actual library for ML inference.');