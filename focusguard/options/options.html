<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FocusGuard Settings</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <div class="options-header">
        <h1 class="header-title">üéØ FocusGuard</h1>
        <p class="header-subtitle">Smart content filtering for focused browsing</p>
    </div>

    <div class="options-container">
        
        <div class="settings-section">
            <h2 class="section-title">Filter Status</h2>
            <div class="toggle-switch">
                <label class="toggle-label">Extension Status</label>
                <input type="checkbox" id="extensionToggle" class="toggle-input" checked>
            </div>
            <p id="statusMessage" class="status-message">‚úÖ Active on all websites</p>
        </div>

        <div class="settings-section">
            <h2 class="section-title">Filtering Mode</h2>
            <p class="section-description">Choose how blocked content is handled</p>
            
            <div class="mode-options">
                <label class="mode-option">
                    <input type="radio" name="filterMode" value="blur" checked>
                    <span class="mode-content">
                        <strong class="mode-label">üå´Ô∏è Blur Mode</strong>
                        <small class="mode-description">Blurs blocked content and keeps it hidden from view</small>
                    </span>
                </label>
                
                <label class="mode-option">
                    <input type="radio" name="filterMode" value="block">
                    <span class="mode-content">
                        <strong class="mode-label">üö´ Block Mode</strong>
                        <small class="mode-description">Completely hides blocked content</small>
                    </span>
                </label>
            </div>
        </div>

        <div class="settings-section">
            <h2 class="section-title">Sensitivity</h2>
            <p class="section-description">Adjust classification accuracy</p>
            
            <div class="slider-container">
                <span class="slider-label">Low</span>
                <input type="range" id="sensitivitySlider" class="range-slider" 
                       min="0" max="2" value="1" step="1">
                <span class="slider-label">High</span>
            </div>
            <p id="sensitivityText" class="sensitivity-text">Current: <strong>Medium</strong> - Balances accuracy & speed</p>
        </div>

        <div class="settings-section">
            <h2 class="section-title">Blocked Categories</h2>
            <p class="section-description">Select content types to block from all websites</p>
            
            <div class="category-grid" id="categoryGrid">
            </div>

            <div id="selectedBlockedList" class="selected-list">
            </div>

            <div class="custom-category-form">
                <input type="text" id="customCategoryInput" class="form-input" 
                       placeholder="Add custom category (e.g., 'Recipes', 'Politics')">
                <button id="addCustomCategoryBtn" class="btn btn-primary btn-small">
                    + Add Custom
                </button>
            </div>

            <div class="section-actions">
                <button id="saveButton" class="btn btn-primary" type="button">
                    üíæ Save Preferences
                </button>
                <span id="saveStatus" class="save-status"></span>
                <button id="resetDefaultsBtn" class="btn btn-secondary btn-small" type="button">
                    Reset to Defaults
                </button>
            </div>
        </div>

        <div class="settings-section">
            <h2 class="section-title">Today's Activity</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalBlocked">0</div>
                    <div class="stat-label">Total Blocked</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="textBlocked">0</div>
                    <div class="stat-label">Text</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="imageBlocked">0</div>
                    <div class="stat-label">Images</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="videoBlocked">0</div>
                    <div class="stat-label">Videos</div>
                </div>
            </div>

            <div class="top-blocked">
                <strong>üéØ Top Blocked Domains:</strong>
                <div id="topBlockedList" class="top-blocked-list">
                    <span class="placeholder-text">No blocks yet today</span>
                </div>
            </div>

            <div class="analytics-controls">
                <button id="showDetailsBtn" class="btn btn-secondary">
                    üìä Show Details
                </button>
                <button id="resetStatsBtn" class="btn btn-secondary btn-small">
                    Reset Today's Stats
                </button>
            </div>
        </div>

        <div class="settings-section" id="detailsSection" style="display: none;">
            <h2 class="section-title">Detailed Analytics</h2>
            
            <div class="details-controls">
                <div class="filter-group">
                    <label for="categoryFilter">Category:</label>
                    <select id="categoryFilter" class="filter-select">
                        <option value="">All Categories</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="typeFilter">Type:</label>
                    <select id="typeFilter" class="filter-select">
                        <option value="">All Types</option>
                        <option value="text">Text</option>
                        <option value="image">Image</option>
                        <option value="video">Video</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="actionFilter">Action:</label>
                    <select id="actionFilter" class="filter-select">
                        <option value="">All Actions</option>
                        <option value="blur">Blur</option>
                        <option value="block">Block</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="timeFilter">Time Range:</label>
                    <select id="timeFilter" class="filter-select">
                        <option value="">All Time</option>
                        <option value="1">Last Hour</option>
                        <option value="6">Last 6 Hours</option>
                        <option value="24">Last 24 Hours</option>
                        <option value="168">Last Week</option>
                    </select>
                </div>
                
                <button id="clearDetailsBtn" class="btn btn-secondary btn-small">
                    Clear Details
                </button>
            </div>

            <div class="category-breakdown" id="categoryBreakdown">
                <h3>Category Breakdown</h3>
                <div id="categoryBreakdownContent" class="category-breakdown-content">
                    <span class="placeholder-text">No data available</span>
                </div>
            </div>

            <div class="detailed-logs">
                <h3>Recent Blocked Content</h3>
                <div id="detailedLogsList" class="detailed-logs-list">
                    <span class="placeholder-text">No detailed logs available</span>
                </div>
            </div>
        </div>

    </div>

    <div class="save-notification" id="saveNotification"></div>
    <div class="toast" id="toast"></div>

    <script src="../lib/storage-manager.js"></script>
    <script src="../lib/analytics-manager.js"></script>
    <script src="options.js"></script>
</body>
</html>
